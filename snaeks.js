(function(){if(!this.require){var t={},e={},i=function(o,a){var r,h=n(a,o),c=e[h];if(c)return c.exports;if(!(r=t[h]||t[h=n(h,"./index")]))throw"module '"+o+"' not found";c={id:h,exports:{}};try{return e[h]=c,r(c.exports,function(t){return i(t,s(h))},c),c.exports}catch(l){throw delete e[h],l}},n=function(t,e){var i,n,s=[];i=/^\.\.?(\/|$)/.test(e)?[t,e].join("/").split("/"):e.split("/");for(var o=0,a=i.length;a>o;o++)n=i[o],".."==n?s.pop():"."!=n&&""!=n&&s.push(n);return s.join("/")},s=function(t){return t.split("/").slice(0,-1).join("/")};this.require=function(t){return i(t,"")},this.require.define=function(e){for(var i in e)t[i]=e[i]}}return this.require.define}).call(this)({apple:function(t,e,i){t.Apple=function(t,e){this.position={x:Math.floor(Math.random()*t),y:Math.floor(Math.random()*e)},this.getPosition=function(){return this.position}}},gameboard:function(t,e,i){var n=e("./snake").Snake,s=e("./apple").Apple;t.GameBoard=function(t,e){this.snake=new n,this.score=0,this.level=1,this.update=function(){this.snake.update(),this.maybeEatApple(),this.checkForDeath()},this.getANewApple=function(){for(this.apple=new s(t,e);this.snake.isOnMe(this.apple);)this.apple=new s(t,e)},this.maybeEatApple=function(){this.snake.isOnMe(this.apple)&&(this.getANewApple(),this.snake.eat(),this.score++,this.score%5===0&&this.level++)},this.checkForDeath=function(){if(this.checkForWallHit()||this.checkForSelfHit())throw"You dead"},this.checkForWallHit=function(){var i=this.snake.body[0].x,n=this.snake.body[0].y;return 0>i||i>=t||0>n||n>=e},this.checkForSelfHit=function(){var t=this.snake.getPosition();return this.snake.body.slice(1).reduce(function(e,i){return e||t.x==i.x&&t.y==i.y},!1)},this.getANewApple()}},snaeks:function(t,e,i){var n=e("./gameboard").GameBoard;t.snaeks=function s(t,e,i){function o(){_.fillStyle="rgb(200,200,0)",_.fillRect(0,0,_.canvas.width,_.canvas.height)}function a(){h();var i=P.level;try{P.update()}catch(n){return s(t,e,"death. score: "+P.score)}r(i),c(),p(),y(),setTimeout(a,w)}function r(t){t<P.level&&(w-=100)}function h(){_.fillStyle="rgb(20,20,20)",_.fillRect(x,x,_.canvas.width-2*x,_.canvas.height-2*x)}function c(){l(),f(),u()}function l(){this.snake_head_img=this.snake_head_img||e.getElementById("snake-head-img");var t=P.snake.getPosition();d(this.snake_head_img,t)}function f(){this.snake_body_img=this.snake_body_img||e.getElementById("snake-body-img"),P.snake.body.slice(1,P.snake.body.length-1).forEach(function(t){d(this.snake_body_img,t)})}function u(){this.snake_tail_img=this.snake_tail_img||e.getElementById("snake-tail-img");var t=P.snake.body[P.snake.body.length-1];d(this.snake_tail_img,t)}function d(t,e){var i=Math.floor(x/2);_.save(),_.translate((e.x+1)*x+i,(e.y+1)*x+i),_.rotate(v[e.direction]),_.drawImage(t,-i,-i),_.restore()}function p(){this.apple_img=this.apple_img||e.getElementById("apple-img"),_.drawImage(this.apple_img,(P.apple.getPosition().x+1)*x,(P.apple.getPosition().y+1)*x)}function g(t){t.preventDefault(),m||13!=t.which||(m=!0,a());var e=b[t.which];P.snake.turn(e)}function y(){_.fillStyle="rgb(200,200,0)",_.fillRect(0,0,15*x,x),_.font="14px sans-serif",_.fillStyle="rgb(0,0,0)",_.fillText("Score: "+P.score+"      Level: "+P.level,x,x/2+5)}function k(t){h(),_.font="40px monospace",_.fillStyle="rgb(0,255,0)",_.fillText(t,150,150),_.font="16px monospace",_.fillText("Press <enter> to play",200,300)}var m=!1,b={37:"left",38:"up",39:"right",40:"down"},v={left:0,right:Math.PI,up:Math.PI/2,down:1.5*Math.PI},x=20,w=500,_=e.getElementById("gameboard").getContext("2d"),A=_.canvas.width/x-2,M=_.canvas.height/x-2,P=new n(A,M);t.onkeydown=g,o(),k(i||"Uh oh! saneks")}},snake:function(t,e,i){t.Snake=function(){var t="left",e="right",i="up",n="down",s=[t,e,i,n],o=[i,n],a=[t,e];this.direction=e,this.getPosition=function(){return this.body[0]},this.body=[{x:3,y:3,direction:e},{x:2,y:3,direction:e},{x:1,y:3,direction:e}],this.update=function(){this.grow();var s={x:this.body[0].x,y:this.body[0].y,direction:this.direction};switch(this.direction){case t:s.x--;break;case e:s.x++;break;case i:s.y--;break;case n:s.y++}this.body.unshift(s)},this.turn=function(t){s.indexOf(t)<0||o.indexOf(this.direction)+1&&o.indexOf(t)+1||a.indexOf(this.direction)+1&&a.indexOf(t)+1||(this.direction=t)},this.eat=function(){this.justAte=!0},this.grow=function(){this.justAte?this.justAte=!1:this.body.pop()},this.isOnMe=function(t){var e=t.getPosition();return this.body.reduce(function(t,i){return t||e.x==i.x&&e.y==i.y},!1)},this.getLength=function(){return this.body.length+1}}}});